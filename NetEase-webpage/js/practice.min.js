!function(){var e=cookieUtil.getck(),t=function(e){return document.getElementById(e)},n={setText:function(e,t){var n=Object.prototype.getElementsByClassName.call(this,e);for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(n[l].innerHTML=t)},setSrc:function(e){var t=this.getElementsByTagName("img");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n].src=e)}},l=function(e,t){for(var n,l=0;l<e.length;l++)if(e[l].className.indexOf(t)>=0)return n=l},i=function(e,t,n,l){var i;null==l&&(l=!0);for(var o=0;o<e.length;o++)classUtil.delClass(e[o],n),e[o]==t&&(i=o);return classUtil.addClass(t,n),l&&a(t),i},a=function(e){function t(e,t){e.filters?e.style.filter="alpha(opacity='+100*value+')":e.style.opacity=t}var n=0,l=function(){t(e,n),n+=.1,n>1&&(n=1,clearInterval(i))},i=setInterval(l,50)};(function(){var e=t("imgbox"),n=(t("pointbox"),e.getElementsByTagName("li")),a=pointbox.getElementsByTagName("i");eventUtil.addEvent(pointbox,"click",function(e){e=e||window.event;var t,o=e.target||e.srcElement;"I"==o.nodeName&&(i(a,o,"active"),t=l(a,"active"),i(n,n[t],"active"))});var o=function(){var e=l(n,"active")+1;e>=3&&(e=0),i(n,n[e],"active"),i(a,a[e],"active")};i(n,n[0],"active");var s=setInterval(o,5e3);eventUtil.addEvent(e.parentNode,"mouseenter",function(){clearInterval(s)}),eventUtil.addEvent(e.parentNode,"mouseleave",function(){s=setInterval(o,5e3)})})(),function(){function e(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}function a(){for(var t=0;t<p.length;t++)"c-dt".indexOf(p[t].className)==-1&&p[t].insertBefore(e(g),p[t].firstChild)}function o(){if(m=document.body.clientWidth,m<=1371)for(var e=p.length-1;e>=p.length-5;e--)p[e].style.display="none";else for(var e=p.length-1;e>=p.length-5;e--)p[e].style.display="inline-block"}function s(){xhrUtil.getxhr("http://study.163.com/webDev/hotcouresByCategory.htm","",function(e){e=JSON.parse(e);for(var t=0;t<e.length;t++)extend(u[t],n),u[t].setText("name",e[t].name),u[t].setText("provider",e[t].provider),u[t].setText("dtprovider","发布者 : "+e[t].provider),u[t].setText("num",e[t].learnerCount),u[t].setText("price",e[t].price?"￥"+e[t].price:"免费"),u[t].setText("categoryName",e[t].categoryName),u[t].setText("description",e[t].description),u[t].setSrc(e[t].smallPhotoUrl)})}function r(e){xhrUtil.getxhr("http://study.163.com/webDev/couresByCategory.htm",e,function(e){if(e=JSON.parse(e),!(e.pagination.totlePageCount<y.pageNo))for(var t=0;t<e.list.length;t++)extend(p[t],n),p[t].setText("name",e.list[t].name),p[t].setText("provider",e.list[t].provider),p[t].setText("dtprovider","发布者 : "+e.list[t].provider),p[t].setText("num",e.list[t].learnerCount),p[t].setText("dtnum",e.list[t].learnerCount+"人在学"),p[t].setText("price",e.list[t].price?"￥"+e.list[t].price:"免费"),p[t].setText("categoryName",e.list[t].categoryName),p[t].setText("dtcategoryName",e.list[t].categoryName?"分类 : "+e.list[t].categoryName:"分类 : 无"),p[t].setText("description",e.list[t].description),p[t].setSrc(e.list[t].bigPhotoUrl)})}function c(e,t){e.style.marginTop=-t-20+"px"}var d=t("cbox"),v=t("topbox"),u=v.getElementsByTagName("li"),p=d.getElementsByTagName("li"),f=Object.prototype.getElementsByClassName.call(document,"c-tab");f[0].type=10,f[1].type=20;var m=document.body.clientWidth,y={pageNo:1,psize:m>1371?20:15,type:f[0].type},g='<div class="c-dt">\t\t\t<img src="" alt="CoursePicture">\t\t\t<div>\t\t\t\t<h3 class="name"></h3>\t\t\t\t<span class="dtnum"></span>\t\t\t\t<span class="dtprovider"></span>\t\t\t\t<span class="dtcategoryName"></span>\t\t\t</div>\t\t\t<p class="description"></p>\t\t</div>';eventUtil.addEvent(window,"load",function(){a(),o(),s(),r(y)}),eventUtil.addEvent(window,"resize",function(){var e,t=m;o(),e=m,e!=t&&(y.psize=m>1371?20:15,r(y))}),eventUtil.addEvent(f[0].parentNode,"click",function(e){e=e||window.event;var t=e.target||e.srcElement;y={pageNo:1,psize:m>1371?20:15,type:t.type},i(f,t,"active",!1),r(y)});var U=function(e,t){t=t||"";for(var n=e.target||e.srcElement;n&&(n.className||"").indexOf(t)<0;)n=n.parentNode;return n};eventUtil.addEvent(d,"mouseover",function(e){e=e||window.event;var t=U(e,"c-item");null!=t&&(t.getElementsByClassName("name")[1].style.color="#39a030",classUtil.addClass(t,"active"))}),eventUtil.addEvent(d,"mouseout",function(e){e=e||window.event;var t=U(e,"c-item");null!=t&&(t.getElementsByClassName("name")[1].style.color="#333",classUtil.delClass(t,"active"))});var h=t("pagebox"),E=h.getElementsByTagName("li"),x=t("c-pre"),N=t("c-next");eventUtil.addEvent(h,"click",function(e){e=e||window.event;var t=e.target||e.srcElement;if("LI"==t.nodeName){var n;n=i(E,t,"active",!1),y.pageNo!=n+1&&(y.pageNo=n+1,r(y))}});var w=function(e){var t=l(E,"active")+e;return t>7?t=0:t<0&&(t=7),i(E,E[t],"active",!1),y.pageNo=t+1,r(y),t};eventUtil.addEvent(x,"click",function(){w(-1)}),eventUtil.addEvent(N,"click",function(){w(1)});var b=function(){var e=1,t=function(){if(c(v,e),e+=1,e>70){var t;clearInterval(n),t=v.removeChild(u[0]),v.appendChild(t),c(v,0)}},n=setInterval(t,100/7)};setInterval(b,5e3)}(),function(){var n=t("tip-cs"),l=t("remind");!function(){if(e){for(var t in e)if(e.hasOwnProperty(t)&&"closetip"==t&&"true"==e[t])return;l.style.display="block"}}(e),eventUtil.addEvent(n,"click",function(){cookieUtil.setck("closetip","true",3e4),l.style.display="none"})}(),function(){function n(e){i.btn.disabled=!!e,e?classUtil.addClass(i.btn,"disabled"):classUtil.delClass(i.btn,"disabled")}var l=t("lgoff"),i=t("lgForm"),a=Object.prototype.getElementsByClassName.call(document,"h-fan"),o=function(e){e?(a[0].style.display="none",a[1].style.display="inline-block"):(a[0].style.display="inline-block",a[1].style.display="none")};!function(){if(e){for(var t in e)if(e.hasOwnProperty(t)&&"followSuc"==t&&"true"==e[t])return void o(!0);o(!1)}}(),eventUtil.addEvent(l,"click",function(e){i.parentNode.style.display="none",i.user.value="",i.pwd.value="",classUtil.delClass(i.user,"error"),classUtil.delClass(i.pwd,"error"),n(!1)}),eventUtil.addEvent(a[0],"click",function(){if(e)for(var t in e)if(e.hasOwnProperty(t)&&"loginSuc"==t&&"true"==e[t])return cookieUtil.setck("followSuc","true",3e4),console.log("关注成功！"),void o(!0);i.parentNode.style.display="block"});var s=a[1].lastChild;eventUtil.addEvent(s,"click",function(){o(!1),cookieUtil.removeck("followSuc"),console.log("关注取消！")}),eventUtil.addEvent(i.user,"blur",function(e){e=e||window.event;var t=e.target||e.srcElement;""===i.user.value&&(classUtil.addClass(t,"error"),classUtil.addClass(i.pwd,"error"))}),eventUtil.addEvent(i.user,"input",function(e){classUtil.delClass(i.user,"error"),classUtil.delClass(i.pwd,"error"),n(!1)}),eventUtil.addEvent(i.pwd,"input",function(e){classUtil.delClass(i.user,"error"),classUtil.delClass(i.pwd,"error"),n(!1)}),eventUtil.addEvent(i,"submit",function(){var e={};n(!0),e.userName=hex_md5(i.user.value),e.password=hex_md5(i.pwd.value),xhrUtil.getxhr("http://study.163.com/webDev/login.htm",e,function(e){1==e?(cookieUtil.setck("loginSuc",!0,3e4),console.log("登录成功！"),xhrUtil.getxhr("http://study.163.com/webDev/attention.htm","",function(e){1==e&&(i.parentNode.style.display="none",n(!1),o(!0),cookieUtil.setck("followSuc",!0,3e4),console.log("关注成功！"))})):(classUtil.addClass(i.user,"error"),classUtil.addClass(i.pwd,"error"),n(!1))})})}(),function(){var e=t("vlink"),n=t("vbox"),l=t("voff"),i=t("vstop"),a=t("vd");eventUtil.addEvent(i,"click",function(e){e=e||window.event;e.target||e.srcElement;a.paused&&a.play()}),eventUtil.addEvent(a,"play",function(e){i.style.display="none"}),eventUtil.addEvent(a,"pause",function(e){i.style.display="inline-block"}),eventUtil.addEvent(a,"click",function(){a.paused?a.play():a.pause()}),eventUtil.addEvent(l,"click",function(){n.parentNode.style.display="none",a.load()}),eventUtil.addEvent(e,"click",function(e){n.parentNode.style.display="block"})}()}();